<section id="experiencia" class="experiencia-section">
  <div class="container-xxl">
    <h2 class="experiencia-titulo">Experiencia</h2>
    <mat-divider></mat-divider>

    <!-- Nav tabs -->
    <mat-tab-group>
      <mat-tab label="Portafolio">
        <div class="portafolio-item mt-3">
          <h3 class="portafolio-titulo">Mi Portafolio</h3>
          <p class="portafolio-descripcion">
            Aquí puedes encontrar algunos de los proyectos en los que he trabajado, los que estoy trabajando y mi experiencia laborarl
          </p>
        </div>
        <div class="row g-0 mt-4 px-3">
          <div class="col-md-4" *ngFor="let project of projects">
            <mat-card class="mx-3">
              <img mat-card-image [src]="project.image" alt="{{project.title}}">
              <mat-card-content>
                <div class="card-content">
                  <h5 class="card-title">{{project.title}}</h5>
                  <p class="card-text">{{project.description}}</p>
                </div>
                <div class="tech-tags mt-2">
                  <img *ngFor="let habilidad of habilidadesFront"
                       [src]="habilidad.icono"
                       [alt]="habilidad.nombre"
                       class="tech-icon"
                       title="{{habilidad.nombre}}" />
                </div>
                <button class="btnpor" (click)="openDialog(project)"> Ver más
                  <mat-icon class="mx-2"> visibility </mat-icon>
                </button>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </mat-tab>
      <mat-tab label="Experiencia">
        <div class="experiencia-item mt-3" *ngFor="let experience of experiences">
          <h3 class="experiencia-puesto">{{experience.position}}</h3>
          <p class="experiencia-institucion">{{experience.institution}} <span class="experiencia-fecha">{{experience.date}}</span></p>
          <p class="experiencia-descripcion">{{experience.description}}</p>
          <ul class="experiencia-lista">
            <li *ngFor="let task of experience.tasks">{{task}}</li>
          </ul>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</section>


<!-- Mat-dialog -->
<ng-template #dialogTemplate let-data>
  <div class="dialog-container">
    <!-- Imagen a la izquierda -->
    <div class="dialog-image">
      <img [src]="data.fullimage || data.image" alt="{{data.title}}" />
    </div>
    <!-- Contenido a la derecha -->
    <div class="dialog-content">
      <h2 class="dialog-title">{{data.title}}</h2>
      <div class="dialog-details" [innerHTML]="data.details"></div>
      <mat-dialog-actions>
        <button mat-button class="btncerrar" mat-dialog-close>Cerrar</button>
      </mat-dialog-actions>
    </div>
  </div>
</ng-template>
